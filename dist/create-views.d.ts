import type { Database } from 'better-sqlite3';
/**
 * All view SQL statements
 */
export declare const allViewsSQL: readonly ["\nCREATE VIEW IF NOT EXISTS product_inventory_status AS\nSELECT\n  p.product_id,\n  p.sku,\n  p.name,\n  p.description,\n  p.item_type,\n  p.is_active,\n\n  p.category_id,\n  c.name AS category_name,\n\n  ps.quantity_on_hand,\n  ps.quantity_available,\n  ps.quantity_reserved,\n  ps.quantity_on_purchase_order,\n  ps.quantity_on_work_order,\n  ps.quantity_in_transit,\n  ps.quantity_buildable,\n\n  rs.reorder_point,\n  rs.reorder_quantity,\n  rs.enable_reordering,\n  rs.vendor_id AS preferred_vendor_id,\n\n  CASE\n    WHEN rs.enable_reordering = 1\n      AND rs.reorder_point IS NOT NULL\n      AND CAST(COALESCE(ps.quantity_available, '0') AS REAL) <= CAST(rs.reorder_point AS REAL)\n    THEN 1\n    ELSE 0\n  END AS is_below_reorder,\n\n  ps.image_small_url AS image_url\n\nFROM products p\nLEFT JOIN categories c ON p.category_id = c.category_id\nLEFT JOIN product_summary ps ON p.product_id = ps.product_id AND ps.location_id IS NULL\nLEFT JOIN reorder_settings rs ON p.product_id = rs.product_id AND rs.location_id IS NULL;\n", "\nCREATE VIEW IF NOT EXISTS reorder_alerts AS\nSELECT\n  p.product_id,\n  p.sku,\n  p.name AS product_name,\n  p.category_id,\n\n  ps.quantity_on_hand,\n  ps.quantity_available,\n  ps.quantity_on_purchase_order,\n\n  rs.reorder_point,\n  rs.reorder_quantity,\n\n  CAST(rs.reorder_point AS REAL) - CAST(COALESCE(ps.quantity_available, '0') AS REAL) AS shortfall_quantity,\n\n  COALESCE(rs.reorder_quantity,\n    CAST(rs.reorder_point AS REAL) - CAST(COALESCE(ps.quantity_available, '0') AS REAL)\n  ) AS suggested_order_quantity,\n\n  rs.vendor_id AS preferred_vendor_id,\n  v.name AS vendor_name,\n  v.vendor_code,\n\n  vi.vendor_item_code,\n  vi.cost AS vendor_cost,\n  vi.lead_time_days,\n\n  CAST(COALESCE(rs.reorder_quantity,\n    CAST(rs.reorder_point AS REAL) - CAST(COALESCE(ps.quantity_available, '0') AS REAL)\n  ) AS REAL) * CAST(COALESCE(vi.cost, '0') AS REAL) AS estimated_order_value\n\nFROM products p\nINNER JOIN reorder_settings rs ON p.product_id = rs.product_id AND rs.location_id IS NULL\nLEFT JOIN product_summary ps ON p.product_id = ps.product_id AND ps.location_id IS NULL\nLEFT JOIN vendors v ON rs.vendor_id = v.vendor_id\nLEFT JOIN vendor_items vi ON rs.vendor_id = vi.vendor_id AND p.product_id = vi.product_id\nWHERE rs.enable_reordering = 1\n  AND rs.reorder_point IS NOT NULL\n  AND CAST(COALESCE(ps.quantity_available, '0') AS REAL) <= CAST(rs.reorder_point AS REAL)\n  AND p.is_active = 1;\n", "\nCREATE VIEW IF NOT EXISTS open_orders_unified AS\nSELECT\n  po.purchase_order_id AS order_id,\n  'purchase_order' AS order_type,\n  po.order_number,\n  po.status,\n  po.order_date,\n  po.expected_date,\n  po.vendor_id AS counterparty_id,\n  v.name AS counterparty_name,\n  'vendor' AS counterparty_type,\n  po.location_id,\n  l.name AS location_name,\n  po.total,\n  po.remarks,\n  po.last_modified_date_time AS last_modified\nFROM purchase_orders po\nLEFT JOIN vendors v ON po.vendor_id = v.vendor_id\nLEFT JOIN locations l ON po.location_id = l.location_id\nWHERE po.status NOT IN ('Completed', 'Cancelled', 'Closed')\n\nUNION ALL\n\nSELECT\n  so.sales_order_id AS order_id,\n  'sales_order' AS order_type,\n  so.order_number,\n  so.status,\n  so.order_date,\n  so.expected_ship_date AS expected_date,\n  so.customer_id AS counterparty_id,\n  c.name AS counterparty_name,\n  'customer' AS counterparty_type,\n  so.location_id,\n  l.name AS location_name,\n  so.total,\n  so.remarks,\n  so.last_modified_date_time AS last_modified\nFROM sales_orders so\nLEFT JOIN customers c ON so.customer_id = c.customer_id\nLEFT JOIN locations l ON so.location_id = l.location_id\nWHERE so.status NOT IN ('Completed', 'Cancelled', 'Closed', 'Shipped')\n\nUNION ALL\n\nSELECT\n  mo.manufacturing_order_id AS order_id,\n  'manufacturing_order' AS order_type,\n  mo.order_number,\n  mo.status,\n  mo.order_date,\n  mo.expected_date,\n  mo.product_id AS counterparty_id,\n  p.name AS counterparty_name,\n  'product' AS counterparty_type,\n  mo.location_id,\n  l.name AS location_name,\n  CAST(mo.quantity AS TEXT) AS total,\n  mo.remarks,\n  mo.last_modified_date_time AS last_modified\nFROM manufacturing_orders mo\nLEFT JOIN products p ON mo.product_id = p.product_id\nLEFT JOIN locations l ON mo.location_id = l.location_id\nWHERE mo.status NOT IN ('Completed', 'Cancelled', 'Closed');\n"];
/**
 * View names for dropping/recreating
 */
export declare const viewNames: readonly ["product_inventory_status", "reorder_alerts", "open_orders_unified"];
export type ViewName = (typeof viewNames)[number];
/**
 * Create all materialized views in the database
 *
 * @param db - better-sqlite3 Database instance (from inflow-get)
 * @param options - Configuration options
 */
export declare function createViews(db: Database, options?: {
    /** Drop existing views before creating (default: true) */
    dropExisting?: boolean;
    /** Only create specific views */
    only?: ViewName[];
}): void;
/**
 * Drop all materialized views from the database
 */
export declare function dropViews(db: Database, only?: ViewName[]): void;
//# sourceMappingURL=create-views.d.ts.map